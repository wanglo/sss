<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>瀑布流</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<style>
		*{margin:0;padding:0;list-style:none;}
		ul{
			width:250px;
			border:1px solid #000;
			margin:0px 10px;
			float:left;
		}
		ul li{
			width:248px;
			border:1px solid #000;
		}
	</style>
</head>
<body>
	<ul></ul>
	<ul></ul>
	<ul></ul>
	<script>
		var uls=document.getElementsByTagName('ul');
		for(var i=0;i<14;i++){
			addli();
		}
		
		function addli(){
			var lis=document.createElement("li");
			lis.style.height=(Math.floor(Math.random()*180)+120)+"px";
			var ul1_H=uls[0].offsetHeight;
			var ul2_H=uls[1].offsetHeight;
			var ul3_H=uls[2].offsetHeight;
			var minul=null;

			var xiao=Math.min(ul1_H,ul2_H,ul3_H);
			for (var i = 0; i <uls.length; i++) {
				if(uls[i].offsetHeight==xiao){
					minul=uls[i];
				}
			}
			minul.appendChild(lis);
		} 

	window.onscroll=function(){
		var scrolltop=document.body.scrollTop||document.documentElement.scrollTop;//整个页面上滚的距离；
		var docH=document.documentElement.offsetHeight;//整个文档的高度
		var ckH=document.documentElement.clientHeight;//整个窗口的高度
		if(docH-ckH<scrolltop+500){
			for(var i=0;i<14;i++){
				addli();
			}
		}
	}
		
	</script>
</body>
</html>